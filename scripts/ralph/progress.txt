## Codebase Patterns
- Server-side API: Use `process.env.API_URL` (not NEXT_PUBLIC_) for server-side requests
- Cookie forwarding: Pass cookies string from `request.headers.get('cookie')` to serverApi methods
- Next.js API routes: Place in `/app/api/[endpoint]/route.ts` format
- Dynamic route params (Next.js 15): `{ params }: { params: Promise<{ id: string }> }` - must await params
- Use "IF NOT EXISTS" in migrations
- React useRef pattern: `useRef<Timeout | null>(null)`

---

