{
  "project": "OSRS GE Dashboard",
  "branchName": "ralph/settings-favorites-blocked",
  "description": "Settings page with default filter values, favorites system, and blocked items management",
  "userStories": [
    {
      "id": "US-001",
      "title": "Create localStorage persistence hook",
      "description": "As a developer, I need a reusable hook to safely read/write localStorage with SSR compatibility so that user preferences persist across sessions.",
      "acceptanceCriteria": [
        "Create frontend/hooks/use-local-storage.ts with generic type support",
        "Handle SSR by checking for window availability before accessing localStorage",
        "Initialize state with function to avoid hydration mismatch",
        "Sync across browser tabs via storage event listener",
        "Typecheck passes"
      ],
      "priority": 1,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-002",
      "title": "Create settings context for global state",
      "description": "As a developer, I need a React context to manage favorites, blocked items, and default filters globally so all components can access and modify this state.",
      "acceptanceCriteria": [
        "Create frontend/lib/constants.ts with STORAGE_KEYS object and DefaultFilters type",
        "Create frontend/contexts/settings-context.tsx with SettingsProvider component",
        "Expose favorites as number[] with toggleFavorite(id), removeFavorite(id), clearFavorites()",
        "Expose blockedItems as number[] with toggleBlocked(id), removeBlocked(id), clearBlocked()",
        "Expose defaultFilters object with setDefaultFilters(), resetToSystemDefaults()",
        "Expose showFavoritesOnly boolean with setShowFavoritesOnly()",
        "Create useSettings() hook for consuming context",
        "Wrap app with SettingsProvider in frontend/app/layout.tsx",
        "Typecheck passes"
      ],
      "priority": 2,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-003",
      "title": "Add favorite star to items table",
      "description": "As a user, I want to click a star icon on any table row to favorite/unfavorite an item so I can mark items I want to track.",
      "acceptanceCriteria": [
        "Add star icon column as first column in frontend/components/items-table.tsx",
        "Use Star icon from lucide-react",
        "Filled yellow star (fill-yellow-500 text-yellow-500) for favorited items",
        "Outline star (text-muted-foreground) for non-favorites with hover:text-yellow-500",
        "Clicking star calls toggleFavorite from useSettings context",
        "Star click uses e.stopPropagation() to not trigger row click",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 3,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-004",
      "title": "Add favorite/block buttons to item modal",
      "description": "As a user, I want to favorite or block an item from its detail modal so I can manage items while viewing their details.",
      "acceptanceCriteria": [
        "Add star button in modal header in frontend/components/item-detail-modal.tsx next to item name",
        "Star toggles favorite state with visual feedback (filled yellow when favorited)",
        "Add block button using Ban icon from lucide-react in modal header",
        "Clicking block shows inline confirmation text 'Block this item?' with Confirm/Cancel buttons",
        "After confirm, item is added to blockedItems via toggleBlocked()",
        "Modal stays open after blocking (item will be hidden from list after modal closes)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 4,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-005",
      "title": "Add favorites filter toggle to dashboard",
      "description": "As a user, I want to toggle a 'Favorites' filter on the dashboard so I can quickly see only my favorited items.",
      "acceptanceCriteria": [
        "Add 'Favorites' toggle button in frontend/app/page.tsx near search input area",
        "Button shows Star icon, text 'Favorites'",
        "When active: button uses default variant, star is filled",
        "When inactive: button uses outline variant",
        "Toggle sets showFavoritesOnly in context",
        "When enabled, filter items to only show those in favorites array AND matching other filters",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 5,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-006",
      "title": "Hide blocked items from dashboard",
      "description": "As a user, I want blocked items automatically hidden from the dashboard so I don't see items I'm not interested in.",
      "acceptanceCriteria": [
        "In frontend/app/page.tsx, filter out items whose id is in blockedItems array",
        "Apply blocked filter before rendering items in table",
        "Blocked filtering happens client-side after API response",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 6,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-007",
      "title": "Create Settings page layout and navigation",
      "description": "As a user, I want a dedicated Settings page accessible from the navigation so I can manage all my preferences in one place.",
      "acceptanceCriteria": [
        "Create frontend/app/settings/page.tsx with 'use client' directive",
        "Page title: 'Settings' in h1",
        "Add 'Settings' link to navLinks array in frontend/components/layout/app-layout.tsx",
        "Settings link appears after Suggestions in navigation",
        "Page uses max-w-2xl mx-auto for content width",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 7,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-008",
      "title": "Default filter values settings section",
      "description": "As a user, I want to configure default values for dashboard filters so I can save my preferred starting filters.",
      "acceptanceCriteria": [
        "Add 'Default Filter Values' section in Settings page using Card component",
        "Include Input fields for: Min Price, Max Price, Min Margin, Min Volume, Max Volume",
        "Initialize inputs from defaultFilters in context",
        "'Save Defaults' button calls setDefaultFilters() with current input values",
        "'Reset to System Defaults' button calls resetToSystemDefaults()",
        "Show brief success message after saving (can use simple state toggle)",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 8,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-009",
      "title": "Add Reset to Defaults button on dashboard",
      "description": "As a user, I want a button on the dashboard to reset filters to my saved defaults so I can quickly return to my preferred filter settings.",
      "acceptanceCriteria": [
        "Add 'Reset to Defaults' button in frontend/components/filter-panel.tsx",
        "Button placed at bottom of filter panel",
        "Clicking button sets all filter state values to corresponding defaultFilters values",
        "Pass resetFilters callback from page.tsx to FilterPanel",
        "If no defaults saved (empty strings), resets filters to empty",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 9,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-010",
      "title": "Favorites management in Settings",
      "description": "As a user, I want to view and manage my favorited items in Settings so I can remove favorites without finding them in the table.",
      "acceptanceCriteria": [
        "Add 'Favorites' section in Settings page using Card component",
        "Fetch item details for each favorite ID using existing /api/items/:id endpoint",
        "Display list of items showing icon (16x16), name, and 'Remove' button",
        "'Remove' button calls removeFavorite(id)",
        "'Clear All Favorites' button with onClick confirmation (window.confirm) calls clearFavorites()",
        "Show 'No favorites yet' message when favorites array is empty",
        "Show count in section header: 'Favorites (X items)'",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 10,
      "passes": true,
      "notes": ""
    },
    {
      "id": "US-011",
      "title": "Blocked items management in Settings",
      "description": "As a user, I want to view and manage my blocked items in Settings so I can unblock items if I change my mind.",
      "acceptanceCriteria": [
        "Add 'Blocked Items' section in Settings page using Card component",
        "Fetch item details for each blocked ID using existing /api/items/:id endpoint",
        "Display list of items showing icon (16x16), name, and 'Unblock' button",
        "'Unblock' button calls removeBlocked(id)",
        "'Clear All Blocked' button with onClick confirmation (window.confirm) calls clearBlocked()",
        "Show 'No blocked items' message when blockedItems array is empty",
        "Show count in section header: 'Blocked Items (X items)'",
        "Typecheck passes",
        "Verify in browser using dev-browser skill"
      ],
      "priority": 11,
      "passes": true,
      "notes": ""
    }
  ]
}
